# Company Financial Analysis - Claude Code Skill

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)

ä¸€ä¸ªç”¨äº Claude Code çš„ä¸“ä¸šå…¬å¸è´¢åŠ¡åˆ†ææŠ€èƒ½ï¼Œæ”¯æŒ A è‚¡å’Œæ¸¯è‚¡çš„å…¨é¢æŠ•èµ„åˆ†æã€‚

[English](#english) | [ä¸­æ–‡](#ä¸­æ–‡)

---

## ä¸­æ–‡

### ğŸ“‹ ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªä¸º Claude Code å¼€å‘çš„ä¸“ä¸šæŠ•èµ„åˆ†ææŠ€èƒ½ï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ”¶é›†å…¬å¸è´¢åŠ¡æ•°æ®ã€è¡Œä¸šä¿¡æ¯ã€å…¬å‘Šç­‰ï¼Œå¹¶ç”ŸæˆåŸºäºæœé‚¦åˆ†ææ¡†æ¶çš„ä¸“ä¸šæŠ•èµ„åˆ†ææŠ¥å‘Šã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

- **å¤šå¸‚åœºæ”¯æŒ**ï¼šA è‚¡ï¼ˆæ²ªæ·±åŒ—ï¼‰+ æ¸¯è‚¡
- **è‡ªåŠ¨æ•°æ®æ”¶é›†**ï¼šè´¢åŠ¡æŠ¥è¡¨ã€è´¢åŠ¡æŒ‡æ ‡ã€å…¬å¸å…¬å‘Šã€è¡Œä¸šæ•°æ®
- **æ‰‹åŠ¨æ•°æ®è¾“å…¥**ï¼šæ”¯æŒæ‰‹åŠ¨å¡«å†™æœ€æ–°è´¢åŠ¡æ•°æ®ï¼ˆç‰¹åˆ«é€‚åˆæ¸¯è‚¡ï¼‰
- **æœé‚¦åˆ†ææ¡†æ¶**ï¼šROE ä¸‰å› ç´ åˆ†è§£ï¼ˆå‡€åˆ©ç‡ Ã— èµ„äº§å‘¨è½¬ç‡ Ã— æƒç›Šä¹˜æ•°ï¼‰
- **5å¹´å¯¹æ¯”è¡¨æ ¼**ï¼šè‡ªåŠ¨ç”Ÿæˆ 5 å¹´è´¢åŠ¡æŒ‡æ ‡å¯¹æ¯”ï¼Œæ™ºèƒ½æ ‡æ³¨é£é™©
- **å•†ä¸šæ¨¡å¼åˆ†æ**ï¼šæ·±å…¥åˆ†æå…¬å¸ä»·å€¼ä¸»å¼ ã€æ”¶å…¥æ¨¡å¼ã€ç«äº‰å£å’
- **è¡Œä¸šåˆ†æ**ï¼šå¸‚åœºç©ºé—´ã€ç«äº‰æ ¼å±€ã€å…¬å¸åœ°ä½
- **é£é™©è¯„ä¼°**ï¼šè´¢åŠ¡é£é™© + å¸‚åœºæƒ…ç»ªé£é™©
- **æŠ•èµ„å»ºè®®**ï¼šåŸºäºå…¨é¢åˆ†æçš„æŠ•èµ„å»ºè®®
- **ğŸ†• çŸ¥è¯†æ€»ç»“å’Œå½’æ¡£**ï¼šè‡ªåŠ¨ç”Ÿæˆåˆ†ææ‘˜è¦å¹¶å‹ç¼©æ•°æ®ï¼ˆèŠ‚çœ70-90%ç©ºé—´ï¼‰
- **ğŸ†• å¿«é€Ÿå­¦ä¹ **ï¼šä»ä¹‹å‰çš„åˆ†æä¸­å¿«é€ŸåŠ è½½çŸ¥è¯†ï¼Œæ”¯æŒå…¬å¸å¯¹æ¯”

### ğŸ¯ åˆ†ææ¡†æ¶

```
è¡Œä¸šåˆ†æ â†’ å•†ä¸šæ¨¡å¼åˆ†æ â†’ è´¢åŠ¡åˆ†æï¼ˆæœé‚¦æ¡†æ¶ï¼‰â†’ é£é™©åˆ†æ â†’ ä¼°å€¼åˆ†æ â†’ æŠ•èµ„å»ºè®®
```

**æœé‚¦åˆ†ææ ¸å¿ƒå…¬å¼**ï¼š
```
ROE = å‡€åˆ©ç‡ Ã— èµ„äº§å‘¨è½¬ç‡ Ã— æƒç›Šä¹˜æ•°
```

### ğŸ“Š ç”ŸæˆæŠ¥å‘Šç¤ºä¾‹

æŠ¥å‘ŠåŒ…å«ä»¥ä¸‹ç« èŠ‚ï¼š
1. **æ‰§è¡Œæ‘˜è¦**ï¼šæ ¸å¿ƒæŠ•èµ„é€»è¾‘ã€å…³é”®æŒ‡æ ‡ã€é£é™©æç¤º
2. **å…¬å¸æ¦‚å†µ**ï¼šåŸºæœ¬ä¿¡æ¯ã€ä¸»è¥ä¸šåŠ¡ã€å‘å±•å†ç¨‹
3. **è¡Œä¸šåˆ†æ**ï¼šå¸‚åœºç©ºé—´ã€ç«äº‰æ ¼å±€ã€å…¬å¸åœ°ä½
4. **å•†ä¸šæ¨¡å¼åˆ†æ**ï¼šä»·å€¼ä¸»å¼ ã€æ”¶å…¥æ¨¡å¼ã€ç«äº‰å£å’
5. **è´¢åŠ¡åˆ†æ**ï¼šæœé‚¦åˆ†æ + 5å¹´å¯¹æ¯”è¡¨æ ¼
6. **é£é™©åˆ†æ**ï¼šè´¢åŠ¡é£é™© + ä¸šåŠ¡é£é™©
7. **ä¼°å€¼åˆ†æ**ï¼šPE/PB/PS ä¼°å€¼
8. **æŠ•èµ„å»ºè®®**ï¼šæ“ä½œç­–ç•¥ã€å…³æ³¨è¦ç‚¹

### ğŸš€ å¿«é€Ÿå¼€å§‹

#### å®‰è£…

1. ç¡®ä¿å·²å®‰è£… Claude Code CLI
2. å…‹éš†æœ¬ä»“åº“ï¼š
```bash
git clone https://github.com/yourusername/company-financial-analysis-skill.git
cd company-financial-analysis-skill
```

3. å®‰è£…ä¾èµ–ï¼š
```bash
pip install -r requirements.txt
```

4. å®‰è£… skill åˆ° Claude Codeï¼š
```bash
# æ–¹æ³• 1ï¼šå¤åˆ¶åˆ° skills ç›®å½•
cp -r . ~/.claude/skills/company-financial-analysis

# æ–¹æ³• 2ï¼šåˆ›å»ºç¬¦å·é“¾æ¥
ln -s $(pwd) ~/.claude/skills/company-financial-analysis
```

#### ä½¿ç”¨æ–¹æ³•

**æ–¹å¼ä¸€ï¼šä¸€é”®å®Œæˆåˆ†æï¼ˆæ¨èï¼‰** ğŸ†•

è‡ªåŠ¨å®Œæˆæ•°æ®æ”¶é›†ã€åˆ†æã€æ€»ç»“ã€å½’æ¡£ï¼š

```bash
cd ~/.claude/skills/company-financial-analysis/scripts
python3 analyze_and_summarize.py 09992  # æ³¡æ³¡ç›ç‰¹
python3 analyze_and_summarize.py 600519  # è´µå·èŒ…å°
```

**æ–¹å¼äºŒï¼šå¿«é€Ÿåˆ†æï¼ˆè‡ªåŠ¨æ¨¡å¼ï¼‰**

é€‚åˆ A è‚¡å…¬å¸ï¼Œä½¿ç”¨ AkShare API è‡ªåŠ¨è·å–æ•°æ®ï¼š

```bash
# åœ¨ Claude Code ä¸­
å¸®æˆ‘åˆ†æè´µå·èŒ…å°
# æˆ–
å¸®æˆ‘åˆ†æ 600519
```

**æ–¹å¼ä¸‰ï¼šç²¾ç¡®åˆ†æï¼ˆæ‰‹åŠ¨æ¨¡å¼ï¼‰**

é€‚åˆéœ€è¦æœ€æ–°æ•°æ®æˆ–æ¸¯è‚¡å…¬å¸ï¼š

```bash
# æ­¥éª¤ 1ï¼šç”Ÿæˆæ¨¡æ¿
å¸®æˆ‘åˆ†æè…¾è®¯æ§è‚¡ï¼ˆ00700ï¼‰

# æ­¥éª¤ 2ï¼šå¡«å†™æ•°æ®
# æ‰“å¼€ç”Ÿæˆçš„ manual_financial_data.json
# ä»å®˜æ–¹æ¸ é“è·å–æœ€æ–°è´¢åŠ¡æ•°æ®å¹¶å¡«å†™

# æ­¥éª¤ 3ï¼šé‡æ–°åˆ†æ
å¸®æˆ‘é‡æ–°åˆ†æè…¾è®¯æ§è‚¡
```

### ğŸ“ è¾“å‡ºç»“æ„

```
<è‚¡ç¥¨ä»£ç >_analysis/
â”œâ”€â”€ raw_data/                      # åŸå§‹æ•°æ®
â”‚   â”œâ”€â”€ financial_reports/         # è´¢åŠ¡æŠ¥è¡¨ CSV
â”‚   â”œâ”€â”€ announcements/             # å…¬å¸å…¬å‘Š
â”‚   â”œâ”€â”€ industry_data/             # è¡Œä¸šæ•°æ®
â”‚   â”œâ”€â”€ xueqiu_discussions/        # é›ªçƒè®¨è®ºæ¨¡æ¿
â”‚   â””â”€â”€ manual_financial_data.json # æ‰‹åŠ¨è¾“å…¥æ¨¡æ¿ â­
â”œâ”€â”€ processed_data/                # å¤„ç†åçš„ JSON æ•°æ®
â”‚   â”œâ”€â”€ company_info.json
â”‚   â”œâ”€â”€ financial_indicators.json
â”‚   â”œâ”€â”€ dupont_indicators.json     # æœé‚¦åˆ†ææŒ‡æ ‡ â­
â”‚   â””â”€â”€ ...
â”œâ”€â”€ analysis_prompt.txt            # AI åˆ†ææç¤ºè¯
â””â”€â”€ analysis_report.md             # æœ€ç»ˆæŠ¥å‘Š â­â­â­
```

### ğŸ’¡ æ‰‹åŠ¨æ•°æ®è¾“å…¥

å¯¹äºæ¸¯è‚¡æˆ–éœ€è¦æœ€æ–°æ•°æ®çš„æƒ…å†µï¼Œç³»ç»Ÿä¼šç”Ÿæˆ JSON æ¨¡æ¿ï¼š

```json
{
  "stock_code": "00700",
  "years": {
    "2023": {
      "revenue": null,              // è¥ä¸šæ”¶å…¥ï¼ˆäº¿å…ƒï¼‰
      "net_profit": null,           // å‡€åˆ©æ¶¦ï¼ˆäº¿å…ƒï¼‰
      "total_assets": null,         // æ€»èµ„äº§ï¼ˆäº¿å…ƒï¼‰
      "total_equity": null,         // è‚¡ä¸œæƒç›Šï¼ˆäº¿å…ƒï¼‰
      "roe": null,                  // ROE (%)
      // ... 18 ä¸ªå…³é”®æŒ‡æ ‡
    }
  }
}
```

**æ¨èæ•°æ®æ¥æº**ï¼š
- **A è‚¡**ï¼šå·¨æ½®èµ„è®¯ç½‘ (cninfo.com.cn)ã€ä¸œæ–¹è´¢å¯Œç½‘
- **æ¸¯è‚¡**ï¼šæ¸¯äº¤æ‰€æŠ«éœ²æ˜“ (hkexnews.hk)ã€å…¬å¸å®˜ç½‘

### ğŸ“Š 5å¹´å¯¹æ¯”è¡¨æ ¼ç¤ºä¾‹

| æŒ‡æ ‡ | 2023 | 2022 | 2021 | 2020 | 2019 | è¶‹åŠ¿ | é£é™©æç¤º |
|------|------|------|------|------|------|------|----------|
| **ROE (%)** | 28.5 | 30.2 | 32.1 | 31.5 | 29.8 | â†“ | - |
| **å‡€åˆ©ç‡ (%)** | 52.3 | 51.8 | 52.5 | 51.2 | 50.1 | â†’ | - |
| èµ„äº§å‘¨è½¬ç‡ | 0.68 | 0.72 | 0.75 | 0.73 | 0.71 | â†“ | - |
| èµ„äº§è´Ÿå€ºç‡ (%) | 20.1 | 18.5 | 16.8 | 18.9 | 21.9 | â†“ | - |

**è‡ªåŠ¨é£é™©æ ‡æ³¨**ï¼š
- ROE < 15% â†’ âš ï¸ ç›ˆåˆ©èƒ½åŠ›ä¸è¶³
- å‡€åˆ©ç‡ä¸‹é™ > 5% â†’ âš ï¸ ç›ˆåˆ©èƒ½åŠ›æ¶åŒ–
- èµ„äº§è´Ÿå€ºç‡ > 70% â†’ âš ï¸ å€ºåŠ¡é£é™©
- ç°é‡‘æµ/å‡€åˆ©æ¶¦ < 80% â†’ âš ï¸ åˆ©æ¶¦è´¨é‡é—®é¢˜

### ğŸ› ï¸ æŠ€æœ¯æ¶æ„

**æ ¸å¿ƒè„šæœ¬**ï¼š
- `analyze_company.py`ï¼šä¸»æµç¨‹ç¼–æ’
- `fetch_financial_data.py`ï¼šAkShare æ•°æ®è·å–
- `fetch_financial_from_reports.py`ï¼šæ‰‹åŠ¨æ•°æ®å¤„ç† â­
- `fetch_announcements.py`ï¼šå…¬å¸å…¬å‘Šè·å–
- `fetch_industry_data.py`ï¼šè¡Œä¸šæ•°æ®è·å–
- `fetch_xueqiu_discussions.py`ï¼šé›ªçƒè®¨è®ºæ¨¡æ¿
- `utils.py`ï¼šå·¥å…·å‡½æ•°

**å‚è€ƒæ–‡æ¡£**ï¼š
- `references/analysis_framework.md`ï¼šæŠ•èµ„åˆ†ææ¡†æ¶
- `references/dupont_analysis.md`ï¼šæœé‚¦åˆ†ææŒ‡å—
- `assets/report_template.md`ï¼šæŠ¥å‘Šæ¨¡æ¿

### ğŸ“¦ ä¾èµ–

```
akshare>=1.11.0
pandas>=1.5.0
requests>=2.28.0
PyPDF2>=3.0.0  # å¯é€‰ï¼Œç”¨äº PDF è§£æ
```

### ğŸ”§ é…ç½®

æ— éœ€é¢å¤–é…ç½®ï¼Œå¼€ç®±å³ç”¨ã€‚

### ğŸ†• æ–°åŠŸèƒ½ï¼šçŸ¥è¯†ç®¡ç†

#### çŸ¥è¯†æ€»ç»“å’Œå½’æ¡£

åˆ†æå®Œæˆåï¼Œè‡ªåŠ¨ç”ŸæˆçŸ¥è¯†æ‘˜è¦å¹¶å‹ç¼©æ•°æ®ï¼š

```bash
cd ~/.claude/skills/company-financial-analysis/scripts

# æ‰‹åŠ¨è¿è¡Œï¼ˆåˆ†æå®Œæˆåï¼‰
python3 summarize_and_archive.py company_analysis_09992.HK_20260126

# æˆ–ä½¿ç”¨ä¸€é”®å‘½ä»¤ï¼ˆæ¨èï¼‰
python3 analyze_and_summarize.py 09992
```

**ç”Ÿæˆçš„æ–‡ä»¶**ï¼š
- `knowledge_summary.json` - ç»“æ„åŒ–æ‘˜è¦
- `KNOWLEDGE_SUMMARY.md` - å¯è¯»æ‘˜è¦
- `LEARNING_SUMMARY.md` - å­¦ä¹ æ‘˜è¦ï¼ˆç”¨äºClaudeä¸Šä¸‹æ–‡ï¼‰
- `<code>_raw_data_<date>.tar.gz` - å‹ç¼©çš„åŸå§‹æ•°æ®ï¼ˆèŠ‚çœ70-90%ç©ºé—´ï¼‰
- `company_index.json` - å…¨å±€å…¬å¸ç´¢å¼•

#### å¿«é€Ÿå­¦ä¹ 

ä»ä¹‹å‰çš„åˆ†æä¸­å¿«é€ŸåŠ è½½çŸ¥è¯†ï¼š

```bash
cd ~/.claude/skills/company-financial-analysis/scripts

# åˆ—å‡ºæ‰€æœ‰å·²åˆ†æçš„å…¬å¸
python3 quick_learn.py list

# åŠ è½½ç‰¹å®šå…¬å¸çŸ¥è¯†
python3 quick_learn.py load 09992.HK

# å¯¹æ¯”å¤šå®¶å…¬å¸
python3 quick_learn.py compare 09992.HK 00700.HK

# ç”Ÿæˆå­¦ä¹ æ‘˜è¦
python3 quick_learn.py summary 09992.HK

# æœç´¢å…¬å¸
python3 quick_learn.py search æ³¡æ³¡
```

**è¯¦ç»†æ–‡æ¡£**: æŸ¥çœ‹ [NEW_FEATURES.md](NEW_FEATURES.md) äº†è§£å®Œæ•´ä½¿ç”¨æŒ‡å—

### ğŸ“ æ›´æ–°æ—¥å¿—

#### v2.2 (2026-01-26) ğŸ†•
- âœ… æ–°å¢çŸ¥è¯†æ€»ç»“å’Œå½’æ¡£åŠŸèƒ½
- âœ… æ–°å¢å¿«é€Ÿå­¦ä¹ åŠŸèƒ½
- âœ… æ”¯æŒå…¬å¸å¯¹æ¯”åˆ†æ
- âœ… è‡ªåŠ¨å‹ç¼©æ•°æ®èŠ‚çœç©ºé—´
- âœ… å…¨å±€å…¬å¸ç´¢å¼•

#### v2.1 (2026-01-26)
- âœ… æ–°å¢æ‰‹åŠ¨æ•°æ®è¾“å…¥åŠŸèƒ½
- âœ… è‡ªåŠ¨è®¡ç®—æœé‚¦åˆ†ææŒ‡æ ‡
- âœ… é›†æˆåˆ°ä¸»åˆ†ææµç¨‹
- âœ… æä¾›æ•°æ®æ¥æºæŒ‡å¼•

#### v2.0 (2026-01-25)
- âœ… æ•°æ®æ•´ç†åˆ°å½“å‰ç›®å½•
- âœ… 5å¹´æœé‚¦åˆ†æå¯¹æ¯”è¡¨æ ¼
- âœ… è‡ªåŠ¨é£é™©æ ‡æ³¨

#### v1.0 (2026-01-24)
- âœ… åŸºç¡€åˆ†ææ¡†æ¶
- âœ… A è‚¡å’Œæ¸¯è‚¡æ”¯æŒ
- âœ… æœé‚¦åˆ†ææ¡†æ¶

### ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### ğŸ“„ è®¸å¯è¯

MIT License

### ğŸ™ è‡´è°¢

- [AkShare](https://github.com/akfamily/akshare)ï¼šæä¾› A è‚¡æ•°æ® API
- [Claude Code](https://www.anthropic.com/)ï¼šAI ç¼–ç¨‹åŠ©æ‰‹å¹³å°

### ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issueã€‚

---

## English

### ğŸ“‹ Introduction

A professional investment analysis skill for Claude Code that supports comprehensive financial analysis of Chinese listed companies (A-shares and Hong Kong stocks).

### âœ¨ Key Features

- **Multi-market Support**: A-shares (Shanghai/Shenzhen/Beijing) + Hong Kong stocks
- **Automated Data Collection**: Financial statements, indicators, announcements, industry data
- **Manual Data Input**: Support for manual financial data entry (especially for HK stocks)
- **DuPont Analysis Framework**: ROE decomposition (Net Margin Ã— Asset Turnover Ã— Equity Multiplier)
- **5-Year Comparison Tables**: Auto-generated with intelligent risk flagging
- **Business Model Analysis**: Value proposition, revenue model, competitive moats
- **Industry Analysis**: Market size, competitive landscape, company position
- **Risk Assessment**: Financial risks + market sentiment risks
- **Investment Recommendations**: Based on comprehensive analysis

### ğŸš€ Quick Start

#### Installation

1. Ensure Claude Code CLI is installed
2. Clone this repository:
```bash
git clone https://github.com/yourusername/company-financial-analysis-skill.git
cd company-financial-analysis-skill
```

3. Install dependencies:
```bash
pip install -r requirements.txt
```

4. Install skill to Claude Code:
```bash
# Method 1: Copy to skills directory
cp -r . ~/.claude/skills/company-financial-analysis

# Method 2: Create symbolic link
ln -s $(pwd) ~/.claude/skills/company-financial-analysis
```

#### Usage

**Method 1: Quick Analysis (Automated)**

For A-share companies using AkShare API:

```bash
# In Claude Code
Analyze Kweichow Moutai
# or
Analyze 600519
```

**Method 2: Precise Analysis (Manual)** â­ Recommended

For latest data or HK stocks:

```bash
# Step 1: Generate template
Analyze Tencent (00700)

# Step 2: Fill in data
# Open generated manual_financial_data.json
# Get latest financial data from official sources

# Step 3: Re-analyze
Re-analyze Tencent
```

### ğŸ“Š Analysis Framework

```
Industry Analysis â†’ Business Model â†’ Financial Analysis (DuPont) â†’ Risk Analysis â†’ Valuation â†’ Recommendations
```

**DuPont Formula**:
```
ROE = Net Profit Margin Ã— Asset Turnover Ã— Equity Multiplier
```

### ğŸ“ Output Structure

```
<stock_code>_analysis/
â”œâ”€â”€ raw_data/                      # Raw data
â”‚   â”œâ”€â”€ financial_reports/         # Financial statements (CSV)
â”‚   â”œâ”€â”€ announcements/             # Company announcements
â”‚   â”œâ”€â”€ industry_data/             # Industry data
â”‚   â””â”€â”€ manual_financial_data.json # Manual input template â­
â”œâ”€â”€ processed_data/                # Processed JSON data
â”‚   â”œâ”€â”€ company_info.json
â”‚   â”œâ”€â”€ financial_indicators.json
â”‚   â”œâ”€â”€ dupont_indicators.json     # DuPont indicators â­
â”‚   â””â”€â”€ ...
â”œâ”€â”€ analysis_prompt.txt            # AI analysis prompt
â””â”€â”€ analysis_report.md             # Final report â­â­â­
```

### ğŸ“¦ Dependencies

```
akshare>=1.11.0
pandas>=1.5.0
requests>=2.28.0
PyPDF2>=3.0.0  # Optional, for PDF parsing
```

### ğŸ¤ Contributing

Issues and Pull Requests are welcome!

### ğŸ“„ License

MIT License

### ğŸ™ Acknowledgments

- [AkShare](https://github.com/akfamily/akshare): A-share data API
- [Claude Code](https://www.anthropic.com/): AI coding assistant platform

---

**Made with â¤ï¸ for investors and analysts**
